server 
    { 
        listen 443 ssl;
        listen [::]:443 ssl;
        server_name spark.42.fr;
        ssl_protocols TLSv1.2 TLSv1.3;

        ssl_certificate /etc/ssl/certs/server.crt; 
        ssl_certificate_key /etc/ssl/private/server_pkey.pem; 
        
        root /var/www/html;
        
        index index.php index.html index.htm; 

        location / {
            try_files $uri $uri/ =404;
        }

        location ~ \.php$ { 
            include snippets/fastcgi-php.conf; 
            # fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; 
            fastcgi_param SCRIPT_FILENAME /var/www/html/$fastcgi_script_name; 
            fastcgi_pass wordpress:9000; 
        }
    }

# server 
#     {
#     root /var/www/html/;
#     index index.php index.html index.htm; 
#     server_name spark.42.fr;
#     ssl_protocols TLSv1.2 TLSv1.3;

#     ssl_certificate /etc/ssl/certs/server.crt; 
#     ssl_certificate_key /etc/ssl/private/server_pkey.pem; 
        

#     location / {
#         try_files $uri $uri/ =404;
#     }
# }

# server {
# 			listen 443 ssl;
# 			listen [::]:443 ssl;
# 			server_name spark.42.fr;
# 			include  /etc/nginx/mime.types;

# 			root /var/www/wordpress/;
# 			index index.php index.html index.htm;

# 			ssl_protocols TLSv1.2;
# 			ssl_certificate /etc/ssl/certs/server.crt;
# 			ssl_certificate_key /etc/ssl/private/server_pkey.key;

# 			location / {
# 				try_files $uri $uri/ =404;
# 			}

# 		location ~ \.php$ {
# 			fastcgi_split_path_info ^(.+\.php)(/.+)$;
# 			fastcgi_pass wordpress_server;
# 			fastcgi_index index.php;
# 			include fastcgi_params;
# 			fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
# 			fastcgi_param SCRIPT_NAME $fastcgi_script_name;
#          }
# }